<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mozih√©t 2026.02.16. ‚Äì 2026.02.22.</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'DM Sans', sans-serif;
  background: #0a0a0a;
  color: #e8e8e8;
  min-height: 100vh;
}

.header {
  padding: 2rem 1.5rem 1rem;
  text-align: center;
  border-bottom: 1px solid #222;
}
.header h1 {
  font-family: 'Space Mono', monospace;
  font-size: clamp(1.2rem, 4vw, 1.8rem);
  letter-spacing: -0.02em;
  color: #fff;
  margin-bottom: 0.3rem;
}
.header .subtitle {
  color: #888;
  font-size: 0.85rem;
}

.filters {
  padding: 1rem 1.5rem;
  border-bottom: 1px solid #1a1a1a;
  position: sticky;
  top: 0;
  background: #0a0a0a;
  z-index: 10;
}
.filter-section { margin-bottom: 0.75rem; }
.filter-section:last-child { margin-bottom: 0; }
.filter-row {
  display: flex;
  gap: 0.4rem;
  flex-wrap: wrap;
}
.filter-label {
  font-family: 'Space Mono', monospace;
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: #555;
  margin-bottom: 0.35rem;
}
.filter-btn {
  padding: 0.35rem 0.7rem;
  border: 1px solid #333;
  border-radius: 2rem;
  background: transparent;
  color: #aaa;
  font-family: 'DM Sans', sans-serif;
  font-size: 0.78rem;
  cursor: pointer;
  transition: all 0.15s;
  white-space: nowrap;
}
.filter-btn:hover { border-color: #666; color: #fff; }
.filter-btn.active {
  background: #fff;
  color: #0a0a0a;
  border-color: #fff;
  font-weight: 600;
}

.cinema-btn[data-cinema="M≈±v√©sz"].active { background: #A0DAE8; border-color: #A0DAE8; color: #0a0a0a; }
.cinema-btn[data-cinema="Puskin"].active { background: #FFD451; border-color: #FFD451; color: #0a0a0a; }
.cinema-btn[data-cinema="Toldi"].active { background: #EB7126; border-color: #EB7126; color: #fff; }
.cinema-btn[data-cinema="Corvin"].active { background: #e54545; border-color: #e54545; color: #fff; }

.content {
  padding: 1.5rem;
  max-width: 900px;
  margin: 0 auto;
}

.film-card {
  margin-bottom: 1.2rem;
  border: 1px solid #1e1e1e;
  border-radius: 12px;
  overflow: hidden;
  background: #111;
  transition: border-color 0.2s;
}
.film-card:hover { border-color: #333; }
.film-header {
  padding: 1rem 1.2rem 0.4rem;
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 0.5rem;
}
.film-title {
  font-size: 1.1rem;
  font-weight: 700;
  color: #fff;
}
.film-title a {
  color: inherit;
  text-decoration: none;
}
.film-title a:hover { text-decoration: underline; }
.film-count {
  font-family: 'Space Mono', monospace;
  font-size: 0.7rem;
  color: #666;
  white-space: nowrap;
}
.film-genres {
  padding: 0 1.2rem 0.5rem;
  display: flex;
  gap: 0.3rem;
  flex-wrap: wrap;
}
.genre-tag {
  font-size: 0.65rem;
  padding: 0.15rem 0.5rem;
  border-radius: 1rem;
  background: #1e1e1e;
  color: #999;
  font-weight: 500;
}
.film-screenings {
  padding: 0 1.2rem 1rem;
}
.cinema-row {
  display: flex;
  align-items: baseline;
  gap: 0.75rem;
  margin-bottom: 0.4rem;
  flex-wrap: wrap;
}
.cinema-name {
  font-weight: 600;
  font-size: 0.8rem;
  min-width: 60px;
  color: #999;
}
.cinema-name.muvesz { color: #A0DAE8; }
.cinema-name.puskin { color: #FFD451; }
.cinema-name.toldi { color: #EB7126; }
.cinema-name.corvin { color: #e54545; }

.time-chip {
  display: inline-block;
  padding: 0.2rem 0.55rem;
  border-radius: 4px;
  background: #1e1e1e;
  font-family: 'Space Mono', monospace;
  font-size: 0.75rem;
  color: #ccc;
  margin: 0.1rem;
}
.day-label {
  font-size: 0.65rem;
  color: #666;
  margin-right: 0.1rem;
}

.empty {
  text-align: center;
  padding: 4rem 2rem;
  color: #555;
}
.empty .emoji { font-size: 2.5rem; margin-bottom: 1rem; }

.stats {
  text-align: center;
  padding: 1rem;
  color: #444;
  font-size: 0.75rem;
  font-family: 'Space Mono', monospace;
  border-top: 1px solid #1a1a1a;
}
</style>
</head>
<body>

<div class="header">
  <h1>üé¨ Mozih√©t</h1>
  <div class="subtitle">2026.02.16. (h√©tf≈ë) ‚Äì 2026.02.22. (vas√°rnap)</div>
</div>

<div class="filters">
  <div class="filter-section">
    <div class="filter-label">Mozi</div>
    <div class="filter-row" id="cinema-filters">
      <button class="filter-btn cinema-btn active" data-cinema="all">Mind</button>
      <button class="filter-btn cinema-btn" data-cinema="M≈±v√©sz">M≈±v√©sz</button>
      <button class="filter-btn cinema-btn" data-cinema="Puskin">Puskin</button>
      <button class="filter-btn cinema-btn" data-cinema="Toldi">Toldi</button>
      <button class="filter-btn cinema-btn" data-cinema="Corvin">Corvin</button>
    </div>
  </div>
  <div class="filter-section">
    <div class="filter-label">Nap</div>
    <div class="filter-row" id="day-filters">
      <button class="filter-btn day-btn active" data-day="all">Mind</button>
    </div>
  </div>
</div>

<div class="content" id="content"></div>
<div class="stats" id="stats"></div>

<script>
const screenings = [{"film": "√úv√∂lt≈ë szelek", "time": "17:45", "url": "/filmek/uvolto-szelek", "cinema": "Toldi", "date": "2026-02-16", "day_short": "H", "day_long": "H√©tf≈ë"}, {"film": "Alpha", "time": "21:00", "url": "/filmek/alpha", "cinema": "M≈±v√©sz", "date": "2026-02-17", "day_short": "K", "day_long": "Kedd"}];
const genres = {"√úv√∂lt≈ë szelek": ["filmdr√°ma", "romantikus"], "Alpha": ["thriller"]};
const days = [{"date": "2026-02-16", "short": "H", "label": "H feb.16."}, {"date": "2026-02-17", "short": "K", "label": "K feb.17."}, {"date": "2026-02-18", "short": "Sze", "label": "Sze feb.18."}, {"date": "2026-02-19", "short": "Cs", "label": "Cs feb.19."}, {"date": "2026-02-20", "short": "P", "label": "P feb.20."}, {"date": "2026-02-21", "short": "Szo", "label": "Szo feb.21."}, {"date": "2026-02-22", "short": "V", "label": "V feb.22."}];

let activeCinema = 'all';
let activeDay = 'all';

// Nap gombok
const dayFilters = document.getElementById('day-filters');
days.forEach(d => {
  const btn = document.createElement('button');
  btn.className = 'filter-btn day-btn';
  btn.dataset.day = d.date;
  btn.textContent = d.label;
  dayFilters.appendChild(btn);
});

// Filter kattint√°sok
function setupFilters(selector, varSetter) {
  document.querySelectorAll(selector).forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll(selector).forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      varSetter(btn);
      render();
    });
  });
}
setupFilters('.cinema-btn', btn => activeCinema = btn.dataset.cinema);
setupFilters('.day-btn', btn => activeDay = btn.dataset.day);

function render() {
  const filtered = screenings.filter(s => {
    if (activeCinema !== 'all' && s.cinema !== activeCinema) return false;
    if (activeDay !== 'all' && s.date !== activeDay) return false;
    return true;
  });

  // Csoportos√≠t√°s film szerint
  const films = {};
  filtered.forEach(s => {
    if (!films[s.film]) films[s.film] = { url: s.url, cinemas: {}, count: 0 };
    films[s.film].count++;
    if (!films[s.film].cinemas[s.cinema]) films[s.film].cinemas[s.cinema] = [];
    films[s.film].cinemas[s.cinema].push({ day: s.day_short, time: s.time, date: s.date });
  });

  const content = document.getElementById('content');

  // Rendez√©s: legt√∂bb vet√≠t√©s el≈ël
  const filmNames = Object.keys(films).sort((a, b) => films[b].count - films[a].count || a.localeCompare(b, 'hu'));

  if (filmNames.length === 0) {
    content.innerHTML = '<div class="empty"><div class="emoji">üé¨</div>Nincs vet√≠t√©s a sz≈±r√©snek megfelel≈ëen.</div>';
    document.getElementById('stats').textContent = '';
    return;
  }

  const cinemaOrder = ['M≈±v√©sz', 'Puskin', 'Toldi', 'Corvin'];
  const cinemaClass = { 'M≈±v√©sz': 'muvesz', 'Puskin': 'puskin', 'Toldi': 'toldi', 'Corvin': 'corvin' };

  let html = '';
  filmNames.forEach(film => {
    const info = films[film];
    let filmUrl = info.url || '';
    if (filmUrl && !filmUrl.startsWith('http')) filmUrl = 'https://artmozi.hu' + filmUrl;
    const filmGenres = genres[film] || [];

    html += '<div class="film-card"><div class="film-header"><div class="film-title">';
    if (filmUrl) html += '<a href="' + filmUrl + '" target="_blank">';
    html += film;
    if (filmUrl) html += ' ‚Üó</a>';
    html += '</div>';
    html += '<span class="film-count">' + info.count + ' vet√≠t√©s</span>';
    html += '</div>';

    if (filmGenres.length) {
      html += '<div class="film-genres">';
      filmGenres.forEach(g => { html += '<span class="genre-tag">' + g + '</span>'; });
      html += '</div>';
    }

    html += '<div class="film-screenings">';
    cinemaOrder.forEach(cinema => {
      if (!info.cinemas[cinema]) return;
      const times = info.cinemas[cinema];
      html += '<div class="cinema-row">';
      html += '<span class="cinema-name ' + cinemaClass[cinema] + '">' + cinema + '</span>';
      html += '<div>';
      times.forEach(t => {
        html += '<span class="day-label">' + t.day + '</span>';
        html += '<span class="time-chip">' + t.time + '</span> ';
      });
      html += '</div></div>';
    });

    html += '</div></div>';
  });

  content.innerHTML = html;
  document.getElementById('stats').textContent = filmNames.length + ' film ¬∑ ' + filtered.length + ' vet√≠t√©s';
}

render();
</script>
</body>
</html>